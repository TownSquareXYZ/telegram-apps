# Создание нового приложения

В этой статье мы углубимся в процесс разработки нового приложения на платформе мини-приложений Telegram, узнаем, какие действия необходимо выполнить для его создания и дадим советы по улучшению процесса создания приложения.

Процесс создания приложения обычно состоит из следующих основных этапов:

1. Создание бота Telegram и регистрация мини-приложения.
2. Создание веб-приложения.
3. Получение URL веб-приложения и его настройка через BotFather.

## Перед началом

Перед созданием нового мини-приложения нужно запомнить важное правило: _не создавайте сущностей, связанных с разработкой в ​​производственной среде_. Разработка в производственной среде является признаком дурного тона, поэтому используйте ее строго, если вы не можете этого избежать.

Для создания приложения следует использовать тестовое окружение. Подробнее о переходе на нее можно узнать в [этой](test-environment.md) статье.

Говоря о преимуществах, которые разработчик получает от тестовой среды, важно упомянуть возможность использования HTTP-ссылок вместо HTTPS, а также IP-адресов напрямую. Производственная среда позволяет использовать только допустимые HTTPS-ссылки.

## Создание приложения в BotFather

Поскольку технически мини-приложения связаны с ботами Telegram, нам сначала следует создать бота Telegram. Для этого нужно найти отца всех ботов, бота [BotFather](https://t.me/botfather) и использовать команду `/newbot`, после чего пройти предложенный процесс, указав все необходимые данные.

Когда бот будет создан, необходимо использовать команду "/newapp" и снова пройти процедуру создания другого объекта - мини-приложения Telegram, связав его с ботом Telegram. С этого момента созданное приложение будет доступно по прямой ссылке вида `https://t.me/{mybot}/{myapp}`.

::: info

Технология мини-приложений Telegram также может использоваться без создания нового приложения, а в качестве веб-интерфейса для бота. Чтобы использовать его как расширение бота, используйте команду `/setmenubutton` в BotFather.

:::

## Ссылка на веб-приложение

Перед прочтением этого раздела убедитесь, что вы уже создали интерфейс приложения, доступ к которому можно получить по прямой ссылке.

### Получение

Чтобы узнать больше о получении ссылки для вашего мини-приложения, обратитесь к [этой](getting-app-link.md) статье.

### Применение

При получении HTTPS-ссылки ее необходимо использовать в ранее созданном Telegram-боте. Telegram поддерживает несколько способов установки этой ссылки:

- **Для кнопки меню бота**. Тогда каждый пользователь, который вступит в диалог с ботом, сможет открыть его "меню" в виде разработанного приложения.
- **Для приложения мини-приложений Telegram**. Тогда приложение откроется только в том случае, если пользователь перейдет по ссылке в формате `https://t.me/{mybot}/{myapp}`. В этом случае пользователь может не вступать в диалог с ботом.

#### Кнопка меню

Чтобы установить ссылку на кнопку меню, необходимо перейти в диалог с BotFather и использовать команду (отправить сообщение) `/setmenubutton`. Далее BotFather попросит вас выбрать бота, указать ссылку, а также заголовок для кнопки меню.

В результате, когда пользователь зайдет в чат с ботом, он сможет открыть веб-приложение, нажав на кнопку меню слева внизу в интерфейсе.

#### Прямая ссылка

Чтобы установить прямую ссылку на приложение, необходимо выполнить следующие действия:

1. Отправить BotFather команду `/myapps`.
2. Выбрать необходимое приложение.
3. Нажать `Edit link` и установить новую ссылку.

Теперь, когда пользователь нажимает на ссылку в формате `https://t.me/{mybot}/{myapp}`, Telegram отобразит веб-компонент с исходным адресом в виде URL, указанного в настройках.

## Отладка приложения

Иногда возникает необходимость в отладке разработанного приложения. Чтобы узнать больше, обратитесь к [этой](debugging.md) статье.

[//]: # "## Дополнительно"
[//]: #
[//]: # "### Замена горячего модуля"
[//]: #
[//]: # "Процесс разработки приложений - довольно сложный и длительный процесс. Вы всегда хотите видеть"
[//]: # "Изменения, которые Вы вносите в код, сразу же отображаются на экране. Чтобы увидеть изменения в реальном времени,"
[//]: # "необходимо использовать такую технику, как **Замена горячего модуля**. В этом разделе не рассматриваются"
[//]: # "процесс его создания, так как он часто зависит от проекта, но хорошо известные фреймворки уже"
[//]: # "включают эту функциональность по умолчанию."
[//]: #
[//]: # "Как настроить HMR, можно найти в разделе"
[//]: # "в [этой статье о Webpack](https://webpack.js.org/guides/hot-module-replacement/)."
[//]: # "## Заключение"
[//]: #
[//]: # "Этого вполне достаточно для того, чтобы создать свое первое приложение TWA."
[//]: # "Тем не менее, данный гайд не покрывает все особенности платформы, а лишь"
[//]: # "Помогает избежать бесполезной траты времени на базовые и простые проблемы."
[//]: # "## Отладка приложения"
[//]: #
[//]: # "Пока Web Apps являются веб-приложениями, и они открываются в каком-то родном"
[//]: # "компоненты (не в браузере), мы не можем отлаживать их обычным способом, как"
[//]: # "Мы делаем это в браузерных приложениях до тех пор, пока не будут выполнены некоторые дополнительные действия."
[//]: #
[//]: # "Чтобы включить режим отладки в родном приложении, выполните следующие действия"
[//]: # "[официальная документация](https://core.telegram.org/bots/webapps#debug-mode-for-web-apps)"
[//]: # "."
