# Параметры запуска

Параметры запуска — это список параметров, которые приложение Telegram передает в мини-приложение. Это помогает разработчику узнать характеристики приложения Telegram, текущее устройство, получить основную информацию о пользователе и многое другое.

## Метод передачи

В веб-среде одним из самых простых и быстрых способов передачи данных между локально запущенными приложениями является указание этих данных в адресной строке. Сервер может включать данные в хэш URL-адреса, делая его доступным для клиентского приложения. Аналогичным образом, мини-приложения Telegram используют этот подход, когда клиентская среда Telegram отправляет данные в мини-приложение с помощью хэша URL-адреса. Это позволяет мини-приложению получать доступ к важной информации при запуске.

Приложение Telegram передает список этих параметров в динамической части URL (в хэше #). Чтобы получить доступ к этим параметрам, вам необходимо использовать свойство `window.location.hash` в вашем коде JavaScript.

## Извлечение

Важно помнить, что `hash` — строковое свойство, а Telegram передает целый список свойств, после чего встает вопрос о форматировании и обработке этого списка. На самом деле, все довольно просто.

Telegram передает список параметров запуска как query-parameters и сохраняет результирующую строку в `window.location.hash`. По этой причине для извлечения параметров запуска достаточно выполнить следующую операцию:

```typescript title="Example on how to extract launch parameters"
const hash = window.location.hash.slice(1);
console.log(hash); // tgWebAppData=...&tgWebAppVersion=6.2&...

const params = new URLSearchParams(hash);
console.log(params.get('tgWebAppVersion')); // "6.2"
```

::: tip

Однако у пользователей есть возможность обновлять текущее приложение, не выходя из него. Если приложение использует хеш-маршрутизацию, оно может потерять исходный хеш через некоторое время. Поэтому лучше всего сохранить эту информацию во время первого запуска приложения.

:::

## Список параметров

### `tgWebAppVersion`

Текущая версия мини-приложения Telegram, используемая в собственном приложении. Этот параметр важно использовать, например, перед вызовом [методов](methods.md) мини-приложения Telegram, чтобы убедиться, что они поддерживаются.

### `tgWebAppData`

Содержит данные, описывающие текущего пользователя, подпись данных и также несколько полезных значений. Чтобы узнать больше,
посетите страницу [инициализации данных](init-data.md).

### `tgWebAppPlatform`

[Идентификатор приложения Telegram](about.md#supported-applications). Он может использоваться как фактор для определения визуального стиля приложения, например, когда, в зависимости от устройства, разработчику нужно отображать компоненты, которые выглядят по-разному.

### `tgWebAppThemeParams`

Параметры [тематики](theming.md), нативного приложения Telegram. Этот параметр можно использовать для стилизации приложения даже в момент рендеринга загрузчика.

Значение этого параметра — это JSON-объект, преобразованный в строку. Чтобы получить более удобное для пользователя значение, достаточно использовать метод `JSON.parse`.

```typescript
const theme = {
  bg_color: '#212121',
  text_color: '#ffffff',
  hint_color: '#aaaaa',
  link_color: '#8774e1',
  button_color: '#8774e1',
  button_text_color: '#ffffff',
  secondary_bg_color: '#0f0f0f',
};
```

### `tgWebAppShowSettings`

Параметр, используемый только Telegram SDK для показа кнопки настроек при запуске. Для внешних разработчиков он не имеет никакого другого значения.

### `tgWebAppBotInline`

Этот параметр добавляется в случае, если текущее приложение запускается в инлайн режиме. Это позволяет вызывать такой метод мини-приложения Telegram, как [web_app_switch_inline_query](methods.md#web-app-switch-inline-query).

### `tgWebAppStartParam`

Параметр, содержащий пользовательскую строку значений, переданную в ссылку бота или приложения. [Подробнее](start-parameter.md).

### `tgWebAppFullscreen`

Параметр, указывающий, запущено ли приложение в данный момент в полноэкранном режиме.
